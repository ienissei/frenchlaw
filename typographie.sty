%%
%%   This is file "typographie.sty", which is part of the "frenchlaw" package
%%   Copyright 2009--2014: Fora VERN -- ienissei (at) gmail (dot) com
%% 
%%   This work may be distributed and/or modified under the conditions of the
%%   LaTeX Project Public License, either version 1.3 of this license or, at your
%%   option, any later version.
%%
%%   The latest version of the license can be found at:
%%      http://www.latex-project.org/lppl.txt
%%   and version 1.3 or later is part of all distributions of LaTeX, 2005/12/01 or later.
%% 
%%   This work has the LPPL maintenance status "author-maintained".
%%   This work consists of the files listed in the README file.
%%

%	WARNING: Please note that this file is a temporary annex to "frenchlaw.cls"
%	         It will be renamed and/or merged with the later at some point

%	Configurer <babel> en français
\frenchbsetup{
	ReduceListSpacing=false,% Alignement des listes est géré par {frenchlaw}, à vérifier
	StandardItemizeEnv=true,
	FrenchFootnotes=false,% Les notes de bas de page sont gérées par {frenchlaw}
%	SuppressWarning=true%
}

%	Configurer les noms des différents éléments en français
\addto\captionsfrench{%%
	\def\abstractname{R{\'e}sum{\'e}}%
	\def\keywordsname{Mots clefs}%
	\def\contentsname{Table des mati{\`e}res}%
	\def\shortcontentsname{Sommaire}%
	\def\listfigurename{Figures}%
	\def\listtablename{Tableaux}%
	\def\prefacename{Pr{\'e}face}%
	\def\bookname{Livre}%
	\def\cftbookname{Livre}%
	\def\bookrefname{Livre}%
	\def\partname{\Ordinalstring{part}[f]\space partie\def\thepart{}}%
	\def\cftpartname{Partie}%
	\def\partrefname{Partie}%
	\def\headingname{Titre}%
	\def\cftheadingname{\toclabelbox{Titre}}%
	\def\headingrefname{Titre}%
	\def\subheadingname{Sous-titre}%
	\def\cftsubheadingname{\toclabelbox{Sous-titre}}%
	\def\subheadingrefname{Sous-titre}%
	\def\chaptername{Chapitre}%
	\def\cftchaptername{\toclabelbox{Chapitre}}%
	\def\chapterrefname{Chapitre}%
	\if@article%
		\def\sectionname{}%
		\def\cftsectionname{}%
		\def\sectionrefname{}%
		\def\subsectionname{}%
		\def\cftsubsectionname{}%
		\def\subsectionrefname{}%
	\else%
		\def\sectionname{Section}%
		\def\cftsectionname{\toclabelbox{Section}}%
		\def\sectionrefname{Section}%
		\def\subsectionname{\S}%
		\def\cftsubsectionname{\toclabelbox{\S}}%
		\def\subsectionrefname{\S}%
	\fi%
	\def\appendixname{Annexe}%
	\def\cftappendixname{Annexe}%
	\def\appendixrefname{\toclabelbox{Annexe}}%
	\def\bibname{Bibliographie}%
	\def\refname{R{\'e}f{\'e}rences}%
	\def\indexname{Index}%
	\def\glossaryname{Glossaire}%
	\def\figurename{{\scshape Figure}}%
	\def\figurerefname{Figure}%
	\def\tablename{{\scshape Tableau}}%
	\def\tablerefname{Tableau}%
	\def\proofname{{\scshape D{\'e}monstration}}%
	\def\pagename{page}%
	\def\pagerefname{page}%
	\def\seename{voir}%
	\def\alsoname{voir aussi}%
	\def\headtoname{{\`A}}%
	\def\ccname{Copie à}%
	\def\enclname{P.\thinspace J.}%
	\def\centuryname{si{\`e}cle}%
	\def\centuriesname{si{\`e}cles}%
	% Pages de titre
	\def\emailname{Email:~}
	\def\phonename{Tél.:~}
	\def\subjecttext{Thèse pour le doctorat en}
	\def\datetext{Présentée et soutenue publiquement le}
	\def\directortext{Sous la direction de:}
	\def\jurytext{Membres du jury:}
}

%	Configurer les noms des différents éléments en anglais
%	TODO » Vérifier l'exhaustivité 
\addto\captionsenglish{
	\def\keywordsname{Keywords}
	\def\centuryname{century}%
	\def\centuriesname{centuries}%
	\def\emailname{Contact:~}
}
\let\captionsbritish=\captionsenglish

%	Créer des commandes rapides pour les citations dans d'autres langues
\newcommand{\british}[1]{\foreignlanguage{british}{\emph{#1}}}
\newcommand{\english}[1]{\foreignlanguage{english}{\emph{#1}}}
\newcommand{\french}[1]{\foreignlanguage{french}{\emph{#1}}}

\newcommand{\greek}[1]{\foreignlanguage{greek}{#1}}
\newcommand{\latin}[1]{\foreignlanguage{latin}{\emph{#1}}}

\newcommand{\german}[1]{\foreignlanguage{german}{\emph{#1}}}
\newcommand{\italian}[1]{\foreignlanguage{italian}{\emph{#1}}}
\newcommand{\spanish}[1]{\foreignlanguage{spanish}{\emph{#1}}}

% 	Définir une commande pour souligner une partie du texte proprement
%\newcommand{\textul}[1]{\uline{#1}}

%	Charger des symboles et les utiliser en fonction de la langue
\usepackage{textcomp}
%	TODO » Remplacer par un € actif sous babel french (ou supprimer)
%\if@french
	\renewcommand{\euro}{\unskip~\texteuro\xspace}
%\else
%	\renewcommand{\euro}{\unskip\texteuro\xspace}
%\fi

%	Définir les commandes pour les abréviations (charger après babel)
%	Créer des commandes pour ajuster les espaces après les abréviations
\usepackage{xspace}
\xspaceaddexceptions{])\marginpar}

%	Définir une commande pour ajouter automatiquement un point et une espace
\newcommand{\xdot}{%
	\@ifnextchar{.}
		{\get@sf}
		{\@\xspace}}
\def\get@sf#1{\spacefactor\the\sfcode`#1\relax}% Thanks @egreg

%	Créer les commandes pour afficher les siècles
% Usage: \siecle{1}, \siecles[et]{1}{2}
%	TODO » Rajouter les messages d'erreur prévus + configurer pour l'anglais
\newcounter{century}
\newcommand{\century}[1]{%
	\ifboolexpr{test {\ifnumcomp{#1}{=}{0}}}
		{ERREUR}
		{\ifnum#1>0\setcounter{century}{#1}\else\setcounter{century}{-#1}\fi%
		\iflanguage{french}
			{\textsc{\roman{century}}%
			 \ifnum\value{century}=1			\er\else\e\fi\unskip~\centuryname}
			{\FCordinal{century}~\centuryname}%
		 \ifboolexpr{	test {\ifnumcomp{#1}{>}{0}}}{}{\space\BC}}}
\newcommand{\centuries}[3][\@empty]{%
	\ifboolexpr{	(test {\ifnumcomp{#2}{=}{0}} or test {\ifnumcomp{#3}{=}{0}})%
				 or (test {\ifnumcomp{#2}{>}{0}} and test {\ifnumcomp{#3}{<}{0}})%
				 or test {\ifnumcomp{#2}{>}{#3}}}
		{ERREUR}
		{\ifboolexpr{	(test {\ifnumcomp{#2}{<}{0}} and test {\ifnumcomp{#3}{>}{0}}) }
			{\century{#2}\ifx#1\@empty~-- \else~#1~\fi\century{#3}~\AD}
			{\ifnum#2>0\setcounter{century}{#2}\else\setcounter{century}{-#2}\fi%
			 \iflanguage{french}
				{\textsc{\roman{century}}%
				 \ifnum\value{century}=1			\er\else\e\fi}
				{\FCordinal{century}}%
			 \unskip\ifx#1\@empty--\else~#1~\fi%
			 \ifnum#3>0\setcounter{century}{#3}\else\setcounter{century}{-#3}\fi%
			 \iflanguage{french}
				{\textsc{\roman{century}}%
				 \ifnum\value{century}=1			\er\else\e\fi}
				{\FCordinal{century}}%
			 \ifboolexpr{	test{\ifnumcomp{#2+1}{=}{#3}}%
						 or test {\ifnumcomp{#2}{=}{#3+1}}}
				{\unskip~\centuriesname}
				{\unskip~\centuriesname}%
			 \ifboolexpr{	test {\ifnumcomp{#2}{>}{0}}}{}{\space\BC}}}}


\let\siecle=\century
\let\siecles=\centuries

%	Créer une commande pour afficher les heures
% Usage: \heure{12}{15} conforme à la norme typographique (dans un texte), \heure*{12}{15} pour afficher l'heure en chiffres uniquement
%	TODO » Utiliser \hour + Internationaliser
\newcommand{\heure}{\@ifstar{\s@heure}{\@heure}}
\newcommand{\@heure}[2]{%
	\ifnum#1=0						minuit%
		\ifnum#2=0					%
		\else\ifnum#2=15				\space et quart%
		\else\ifnum#2=30				\space et demi%
		\else						\space\numberstringnum{#2}%
		\fi\fi\fi%
	\else\ifnum#1=12					midi%
		\ifnum#2=0					%
		\else\ifnum#2=15				\space et quart%
		\else\ifnum#2=30				\space et demi%
		\else						\space\numberstringnum{#2}%
		\fi\fi\fi%
	\else#1\,h\ifnum#2=0\else\,#2\fi%
	\fi\fi%
}
\newcommand{\s@heure}[2]{\unskip~#1\,h\,#2}

%	TODO » Internationaliser + Rajouter les autres abréviations courantes, adde une option \abbrv[french]{\Cne}{}
%	TODO » Créer une commande type \abbrv[Signification]{Commande}{Abréviation}
%	Insérer automatiquement celles qui ont une signification (i.e. les spéciales) dans une liste -- e.g. avec {nomencl} ou équivalent (rechercher dans memoir) -- et une commande pour en rajouter à la main.
%	Ajouter celles du .lbx et les y reporter, ou leur intégrer une commande pour les ajouter à la liste des abréviations.

%	Définir les abréviations générales

% Civilités
\newcommand{\St}{S\textsuperscript{t}~}
\newcommand{\Ste}{S\textsuperscript{te}~}
\newcommand{\Mme}{M\textsuperscript{me}~}
\newcommand{\Mmes}{M\textsuperscript{mes}~}
\newcommand{\Mlle}{M\textsuperscript{lle}~}
\newcommand{\Mlles}{M\textsuperscript{lles}~}
\newcommand{\Mr}{M.~}
\newcommand{\MM}{MM.~}
\newcommand{\Me}{M\textsuperscript{e}~}
\newcommand{\Mes}{M\textsuperscript{es}~}
\newcommand{\Dr}{D\textsuperscript{r}~}
\newcommand{\Vve}{V\textsuperscript{ve}~}

% Adjectifs ordinaux
\newcommand{\e}{\textsuperscript{e}\xspace}
\newcommand{\es}{\textsuperscript{es}\xspace}
\newcommand{\er}{\textsuperscript{er}\xspace}
\newcommand{\ers}{\textsuperscript{ers}\xspace}
\newcommand{\re}{\textsuperscript{re}\xspace}
\newcommand{\res}{\textsuperscript{res}\xspace}

% Noms communs abrégés
\newcommand{\Cne}{C\textsuperscript{ne}~}% Commune
\newcommand{\Cie}{C\textsuperscript{ie}\xspace}% Compagnie

% Abréviations d'emploi commun
\newcommand{\BC}{%
	\iflanguage{french}
		{av.~J.-C.\xdot}
		{B.\thinspace C.\xdot}}
\newcommand{\AD}{%
	\iflanguage{french}
		{apr.~J.-C.\xdot}
		{A.\thinspace D.\xdot}}
\newcommand{\NB}{N.\thinpace B.\xdot}% Nota bene
\newcommand{\PS}{P.--S.~—\xdot}% Post-Scriptum

% Synonymes
\let\avJC=\BC
\let\apJC=\AD

%	Définir les abréviations spéciales

% Expressions latines
\newcommand{\adde}{\latin{adde}\xspace}% Ajouter
\newcommand{\Adde}{\latin{Adde}\xspace}
\newcommand{\cf}{\latin{cf.\xspace}}% Se reporter à
\newcommand{\Cf}{\latin{Cf.\xspace}}
\newcommand{\contra}{\latin{contra}\xspace}% en sens contraire
\newcommand{\Contra}{\latin{Contra}\xspace}
\newcommand{\passim}{\latin{passim}}% À différents endroits
\newcommand{\verbo}{\latin{v\textsuperscript{o}~}}% au mot …
\newcommand{\verbis}{\latin{v\textsuperscript{is}~}}
%
\newcommand{\ie}{\latin{i.\thinspace e.}\xdot}% Id est, c'est-à-dire
\newcommand{\Ie}{\latin{I.\thinspace e.}\xdot}% Id est, c'est-à-dire
\newcommand{\eg}{\latin{e.\thinspace g.}\xdot}% Exempli gratia, par exemple
\newcommand{\Eg}{\latin{E.\thinspace g.}\xdot}% Exempli gratia, par exemple

% Expressions françaises
%	TODO » Adde: art., al., § (?) comme pour les \no et \vol
%	TODO » Adde: documents juridiques (dont romains (?)), tribunaux, chambres
\newcommand{\anc}{anc.\xdot}% Ancien
\newcommand{\Anc}{Anc.\xdot}
\newcommand{\comp}{comp.\xdot}% Comparer
\newcommand{\Comp}{Comp.\xdot}
\newcommand{\rappr}{rappr.\xdot}% Rapprocher
\newcommand{\Rappr}{Rappr.\xdot}% Rapprocher
\renewcommand{\v}{voir\xdot}% Voir (abréger ?)
\newcommand{\V}{Voir\xdot}
%
\newcommand{\vs}{c.\xdot}% Contre // TODO \c ou \vs (?)
\newcommand{\n}{n.\xdot}% Note, en note
\newcommand{\obs}{obs.\xdot}
\newcommand{\chron}{chron.\xdot}
\newcommand{\concl}{concl.\xdot}
\newcommand{\pan}{pan.\xdot}
\newcommand{\rapp}{rapp.\xdot}
%
\renewcommand{\ss}{ss\xspace}% TODO » Utile ?
\newcommand{\vol}{vol.~}% Volume
%
\newcommand{\BO}{B.O.\xdot}% Bulletin officiel
\newcommand{\JO}{\emph{J.O.}\xdot}% Journal officiel
%
% Thanks @egreg pour le test \ifnum (qui détecte les nombres positifs vs. tout le reste)
\newcommand{\Bull}[1]{%
	Bull.~\ifnum0<0#1\relax\uppercase\expandafter{\romannumeral#1}\else#1\fi\xspace}


%	TODO » Sort

% Créer les commandes des abréviations juridiques et les indexer via BibLaTeX. Elles doivent être inscrites dans le fichier bibtex (forme longue et forme courte).
\newcommand{\abbrv}[2][\xdot]{%
	\addtocategory{abbrv}{#2}%
	\@ifstar%
	{\cite{#2}#1}
	{\citetitle{#2}\@\xspace}}
%
%
% Commandes des juridictions
\newcommand{\CC}{C.C.}
\newcommand{\TC}{T.C.}
\newcommand{\CE}{C.E.}
\newcommand{\Cass}{Cass.}

\newcommand{\CA}[1]{C.A. #1}
\newcommand{\CAA}[1]{C.A.A. #1}

\newcommand{\TGI}[1]{T.G.I. #1}
\newcommand{\TI}[1]{T.I. #1}
\newcommand{\TA}[1]{T.A. #1}
\newcommand{\Tcomm}[1]{T.~comm. #1}
\newcommand{\Tcorr}[1]{T.~corr. #1}
\newcommand{\Tpol}[1]{T. pol. #1}

\newcommand{\CIJ}{C.I.J}
\newcommand{\CJCE}{C.J.C.E.}
\newcommand{\CJUE}{C.J.U.E.}
\newcommand{\CEDH}{C.E.D.H.}
%
\newcommand{\BCE}{\abbrv{BCE}}
\newcommand{\JOUE}{\abbrv{JOUE}}
\newcommand{\SEBC}{\abbrv{SEBC}}
\newcommand{\ONU}{\abbrv[\@\xspace]{ONU}}
%
% Commandes pour les Codes
\newcommand{\Cciv}{\abbrv{Cciv}}
\newcommand{\Ccom}{\abbrv{Ccom}}
\newcommand{\CDE}{\abbrv{CDE}}
\newcommand{\CGI}{\abbrv{CGI}}
\newcommand{\CGPPP}{\abbrv{CGPPP}}
\newcommand{\CMF}{\abbrv{CMF}}
\newcommand{\CPen}{\abbrv{CPen}}